<%- include('header') %> <%- include("./partials/navbar.ejs") %>

<div class="container mt-5">
  <div class="row">
    <!-- Main Product Image -->
    <div class="col-md-6">
      <img
        src="\multer\products\<%=Productdata.image[0]%>"
        class="img-fluid mb-3"
        alt="Main Product Image"
      />
      <div class="row">
        <!-- Additional Product Images -->
        <div class="col-3">
          <img
            src="\multer\products\<%=Productdata.image[1]%>"
            class="img-fluid"
            alt="Additional Image 1"
          />
        </div>
        <div class="col-3">
          <img
            src="\multer\products\<%=Productdata.image[2]%>"
            class="img-fluid"
            alt="Additional Image 2"
          />
        </div>
        <div class="col-3">
          <img
            src="\multer\products\<%=Productdata.image[3]%>"
            class="img-fluid"
            alt="Additional Image 3"
          />
        </div>
        <div class="col-3">
          <img
            src="\multer\products\<%=Productdata.image[4]%>"
            class="img-fluid"
            alt="Additional Image 4"
          />
        </div>
      </div>
    </div>
    <!-- Product Details -->
    <div class="col-md-5 mt-5 pt-5 ms-5 ps-5">
      <h2><%=Productdata.productName%></h2>
      <p><strong>Color:</strong> Red</p>
      <p><strong>Price:</strong> <%=Productdata.price%></p>
      <p><strong>Description:</strong> <%=Productdata.description%> .</p>
      <!-- Buttons -->
      <div class="mt-3">
        <!-- Modified button with event listener -->
        <button id="addToCartBtn" class="btn btn-primary mr-2">
          Add to Cart
        </button>
        <button class="btn btn-outline-secondary">Add to Wishlist</button>
      </div>
    </div>
  </div>
</div>
<%- include('footer') %>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  document
    .getElementById("addToCartBtn")
    .addEventListener("click", function () {
      // Make a POST request when the button is clicked
      axios
        .get("/addtocart/<%=Productdata._id%>")
        .then((response) => {
          console.log("Item added to cart:", response.data);
          // Optionally, you can redirect to another page or show a success message here
        })
        .catch((error) => {
          console.error("Error adding item to cart:", error);
          // Handle errors here, show an error message to the user, etc.
        });
    });
</script>
